Getting started with BoaTestRunner - just next test framework.

== Introduction ==

BoaTestRunner is very simple test framework written in Python. It is an extension to standard Python test framework PyUnit.

In this document is described how to download and install BoaTestRunner and how to created and developed test cases.

== Prerequisites ==

Host machine should have Python installed. Almost every linux distribution has Python as a part of standard configuration.

Framework was tested with Python 2.4. Was not tested with Python 3.x (future).

== Instalation ==

Checkout: http://code.google.com/p/boatester/source/checkout

Following directory structure should be created.

{{{
 boatester-read-only/BoaHarness
 boatester-read-only/BoaHarness/src
 boatester-read-only/BoaHarness/src/testharness
 boatester-read-only/BoaHarness/src/testharness/TestCaseHelper.py
 boatester-read-only/BoaHarness/src/testharness/TestCaseHelper.pyc
 boatester-read-only/BoaHarness/src/testharness/__init__.py
 boatester-read-only/BoaHarness/src/testharness/TestBoa.py
 boatester-read-only/BoaHarness/src/testharness/__init__.pyc
 boatester-read-only/BoaHarness/src/testharness/TestBoa.pyc

 boatester-read-only/TestBoaHarness
 boatester-read-only/TestBoaHarness/src
  ...

}}}

Two packages are extracted. BoaHarness contains BoaTestRunner executable codes. TestBoaHarness contains some tests and samples. To execute tests only BoaHarness package is necessary.

To run samples:

On Linux (assuming that packages were checked-out into current directory)

{{{
export PYTHONPATH=boatester-read-only/BoaHarnes
python boatester-read-only/TestBoaHarness/src/testboaharness.py boatester-read-only/TestBoaHarness/src/TestResource /tmp/rundir all x
}}}

On Windows 
{{{
set PYTHONPATH=C:\TEMP\boatester-read-only\BoaHarness\src\testharness
C:\python26\python boatester-read-only\TestBoaHarness\src\testboaharness.py boatester-read-only\TestBoaHarness\src\TestResource c:\temp\rundir all x
}}}

Output (if successful )

{{{
dirres  run.sh
setUp
testCase1
setUp
Test number 2
testCase2
=========================
TEST PASSED  number of tests : 3
}}}


== Vocabulary ==

Following terms will be used:

 * *BoaTestRunner* : test framework, test harness. Executes tests and evaluates result.

 * *Test*, *test case* : executed by BoaTestRunner. Should provide test result: passed or failed.

 * *Test case resource* : directory containing all data, scripts, files necessary for test case to be run. Should be platform independent. Should be also "directory independent", cannot assume any absolute path.

 * *Test suite* : collection (subdirectories) of test case resources. 

 * *Common test resources* : collection of data used by more then one test case. Using of any common resource (subdirectory) is declarative.

 * *Running test directory* : directory where test are performed. Directory is cleared at the beginning.

 * *Test case method, test case handler* : reusable method for running test. Two methods are predefined (Python TestSuite object and command). Custom test case handler can be defined.


== How tests are organized ==

Every test (test case) should be independent and repeatable. BoaTestRunner does not support test dependency e.g. next test case is using the output of the previous test. Test could be run in any order.

Every test is a subdirectory in TestSuite directory. Test subdirectory should contain all resource needed to run test and elaborate test result. It is possible (although not necessary) to have a directory with common resources used by more than one test.

Test case subdirectory name should follow pattern: _test{number}_ e.g test1, test2 .. test12 ... BoaTestRunner is looking for test.properties file containing some information on test. 

Example:

{{{
TestResource
  Test1
    test.properties
    run.sh
    sample
      file1
      file2
  Test2
    test.properties
    testdata.txt
    testinput.log
  SomeData
    subdir1
    subdir2
}}}

In the directory structure above two test cases will be run: Test1 and Test2. Directory SomeData will be omitted.

Only Test1\test.properties and Test2\test.properties files are required by BoaTestRunner framework. Additional files in this directories are used by test case only. 

SomeData could contain additional resources used by tests. Usage of this resource should be declared in test.properties file. By default only files in test subdirectory are used.

To add new test case simply create next directory (e.g Test3), lay down proper test.properties file and all files and directory necessary to run the test. New test case will be automatically discovered by BoaTestRunner.

== How test suite is executed ==

 # Analyze test suite directory. Subdirectories having _test_ in their names are taken and test.properties file is read. List of test case candidates is created.
 # Executes test cases: basing on parameters all tests can be run, only one test or tests starting from some point. Gathers result of every test cases.
 # Print test suite result: number of tests executed, passed, failed.

== How one test case is executed ==

 # Clears running test directory.
 # If using of common test resource is declared copies resource to running test directory
 # Copies all test case resource to running test directory
 # Runs test case using proper test case handler.
 # Propagate test result (passed, failed) to BoaTestRunner.